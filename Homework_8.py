import numpy as np
import matplotlib.pyplot as plt
import scipy.stats as stats


# ÐžÐºÑ€ÑƒÐ³Ð»ÐµÐ½Ð¸Ðµ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð¼Ð°ÑÑÐ¸Ð²Ð°
def np_round(arr, val):
    return np.array([list(map(lambda ell: round(ell, val), el)) for el in arr])


"""
Ð”Ð¾Ð¼Ð°ÑˆÐ½ÐµÐµ Ð·Ð°Ð´Ð°Ð½Ð¸Ðµ Ðº Ð£Ñ€Ð¾ÐºÑƒ-8
"""

"""
Ð—Ð°Ð´Ð°Ð½Ð¸Ðµ-1:
1) Ð”Ð°Ð½Ñ‹ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ð½Ñ‹ Ð·Ð°Ñ€Ð°Ð±Ð¾Ñ‚Ð½Ð¾Ð¹ Ð¿Ð»Ð°Ñ‚Ñ‹ Ð·Ð°ÐµÐ¼Ñ‰Ð¸ÐºÐ¾Ð² Ð±Ð°Ð½ÐºÐ° (zp) 
Ð¸ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð¸Ñ… Ð¿Ð¾Ð²ÐµÐ´ÐµÐ½Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ ÐºÑ€ÐµÐ´Ð¸Ñ‚Ð½Ð¾Ð³Ð¾ ÑÐºÐ¾Ñ€Ð¸Ð½Ð³Ð° (ks):
zp = [35, 45, 190, 200, 40, 70, 54, 150, 120, 110],
ks = [401, 574, 874, 919, 459, 739, 653, 902, 746, 832].
ÐÐ°Ð¹Ð´Ð¸Ñ‚Ðµ ÐºÐ¾Ð²Ð°Ñ€Ð¸Ð°Ñ†Ð¸ÑŽ ÑÑ‚Ð¸Ñ… Ð´Ð²ÑƒÑ… Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ð½ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°Ñ€Ð½Ñ‹Ñ… Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹, Ð° Ð·Ð°Ñ‚ÐµÐ¼ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ cov Ð¸Ð· numpy
ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð½Ñ‹Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ð±Ñ‹Ñ‚ÑŒ Ñ€Ð°Ð²Ð½Ñ‹.
ÐÐ°Ð¹Ð´Ð¸Ñ‚Ðµ ÐºÐ¾ÑÑ„Ñ„Ð¸Ñ†Ð¸ÐµÐ½Ñ‚ ÐºÐ¾Ñ€Ñ€ÐµÐ»ÑÑ†Ð¸Ð¸ ÐŸÐ¸Ñ€ÑÐ¾Ð½Ð° Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ ÐºÐ¾Ð²Ð°Ñ€Ð¸Ð°Ñ†Ð¸Ð¸ Ð¸ ÑÑ€ÐµÐ´Ð½ÐµÐºÐ²Ð°Ð´Ñ€Ð°Ñ‚Ð¸Ñ‡Ð½Ñ‹Ñ… Ð¾Ñ‚ÐºÐ»Ð¾Ð½ÐµÐ½Ð¸Ð¹ Ð´Ð²ÑƒÑ… Ð¿Ñ€Ð¸Ð·Ð½Ð°ÐºÐ¾Ð², 
Ð° Ð·Ð°Ñ‚ÐµÐ¼ Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹ Ð¸Ð· Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐº numpy Ð¸ pandas.
"""

# ÐŸÐ¾ÑÑÐ½ÐµÐ½Ð¸Ðµ:
# Ð”Ð»Ñ Ð²Ñ‹Ñ‡Ð¸ÑÐ»ÐµÐ½Ð¸Ñ Ð¿Ñ€ÑÐ¼Ñ‹Ð¼ Ð²Ñ‹Ñ‡Ð¸ÑÐ»ÐµÐ½Ð¸ÐµÐ¼ Ð²Ð¾ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ÑÑ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑŒÑŽ:
# cov_xy = M(XY) - M(X) * M(Y)

# Ð˜ÑÑ…Ð¾Ð´Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ:
zp = np.array([35, 45, 190, 200, 40, 70, 54, 150, 120, 110])
ks = np.array([401, 574, 874, 919, 459, 739, 653, 902, 746, 832])

# Ð Ð°ÑÑ‡ÐµÑ‚:
# 1. ÐšÐ¾Ð²Ð°Ñ€Ð¸Ð°Ñ†Ð¸Ñ
cov_m = np.mean(zp * ks) - np.mean(zp) * np.mean(ks)       # ÐŸÑ€ÑÐ¼Ð¾Ð¹ Ñ€Ð°ÑÑ‡ÐµÑ‚
cov_np = np.cov(zp, ks, ddof=0)                             # Ð¡Ð¼ÐµÑˆÐµÐ½Ð½Ð°Ñ ÐºÐ¾Ð²Ð°Ñ€Ð¸Ð°Ñ†Ð¸Ñ

# 2. ÐšÐ¾ÑÑ„Ñ„Ð¸Ñ†Ð¸ÐµÐ½Ñ‚ ÐºÐ¾Ñ€Ñ€ÐµÐ»ÑÑ†Ð¸Ð¸ ÐŸÐ¸Ñ€ÑÐ¾Ð½Ð°
#   - Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ: r = ov_xy / (Ïƒ_x * Ïƒ_y)
sigma_zp = np.std(zp, ddof=0)
sigma_ks = np.std(ks, ddof=0)
corr_m = cov_m / (sigma_zp * sigma_ks)
#   - Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð¸Ð· Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐº numpy Ð¸ pandas
corr_np = np.corrcoef(zp, ks)


# Ð²Ñ‹Ð²Ð¾Ð´ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð² Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸
print()
print('Ð—Ð°Ð´Ð°Ð½Ð¸Ðµ-1.')
print('--------------------------------')
print(f'Ð—Ð°Ð´Ð°Ð½Ñ‹ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¸Ð·Ð½Ð°ÐºÐ¾Ð²: '
      f'\n- Ð—Ð°Ñ€Ð¿Ð»Ð°Ñ‚Ð° = {zp} '
      f'\n- ÐŸÐ¾Ð²ÐµÐ´ÐµÐ½Ñ‡ÐµÑÐºÐ¸Ð¹ ÐºÑ€ÐµÐ´Ð¸Ñ‚Ð½Ñ‹Ð¹ ÑÐºÐ¾Ñ€Ð¸Ð½Ð³ = {ks}')
print(f'ÐšÐ¾Ð²Ð°Ñ€Ð¸Ð°Ñ†Ð¸Ñ Ñ€Ð°ÑÑÑ‡Ð¸Ñ‚Ð°Ð½Ð½Ð°Ñ Ñ‡ÐµÑ€ÐµÐ· ÑÑ€ÐµÐ´Ð½Ð¸Ðµ = {round(cov_m, 2)}')
print(f'ÐšÐ¾Ð²Ð°Ñ€Ð¸Ð°Ñ†Ð¸Ñ Ñ€Ð°ÑÑÑ‡Ð¸Ñ‚Ð°Ð½Ð½Ð°Ñ Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ñ‹Ð¼Ð¸ ÑÑ€ÐµÐ´ÑÑ‚Ð²Ð°Ð¼Ð¸ numpy:'
      f'\n{np_round(cov_np, 2)}')
print(f'ÐšÐ¾ÑÑ„Ñ„Ð¸Ñ†Ð¸ÐµÐ½Ñ‚ ÐºÐ¾Ñ€Ñ€ÐµÐ»ÑÑ†Ð¸Ð¸ ÐŸÐ¸Ñ€ÑÐ¾Ð½Ð°:'
      f'\n- Ñ€Ð°ÑÑ‡ÐµÑ‚ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ ÐºÐ¾Ð²Ð°Ñ€Ð¸Ð°Ñ†Ð¸Ð¸ Ð¸ ÑÑ€ÐµÐ´Ð½ÐµÐºÐ²Ð°Ð´Ñ€Ð°Ñ‚Ð¸Ñ‡Ð½Ñ‹Ñ… Ð¾Ñ‚ÐºÐ»Ð¾Ð½ÐµÐ½Ð¸Ð¹ Ð´Ð²ÑƒÑ… Ð¿Ñ€Ð¸Ð·Ð½Ð°ÐºÐ¾Ð² = {round(corr_m, 3)}'
      f'\n- Ñ€Ð°ÑÑ‡ÐµÑ‚ Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹ Ð¸Ð· Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐº numpy =\n'
      f'{np_round(corr_np, 3)}')


"""
Ð—Ð°Ð´Ð°Ð½Ð¸Ðµ-2:
Ð˜Ð·Ð¼ÐµÑ€ÐµÐ½Ñ‹ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ IQ Ð²Ñ‹Ð±Ð¾Ñ€ÐºÐ¸ ÑÑ‚ÑƒÐ´ÐµÐ½Ñ‚Ð¾Ð²,
Ð¾Ð±ÑƒÑ‡Ð°ÑŽÑ‰Ð¸Ñ…ÑÑ Ð² Ð¼ÐµÑÑ‚Ð½Ñ‹Ñ… Ñ‚ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð²ÑƒÐ·Ð°Ñ…:
131, 125, 115, 122, 131, 115, 107, 99, 125, 111.
Ð˜Ð·Ð²ÐµÑÑ‚Ð½Ð¾, Ñ‡Ñ‚Ð¾ Ð² Ð³ÐµÐ½ÐµÑ€Ð°Ð»ÑŒÐ½Ð¾Ð¹ ÑÐ¾Ð²Ð¾ÐºÑƒÐ¿Ð½Ð¾ÑÑ‚Ð¸ IQ Ñ€Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½ Ð½Ð¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ð¾.
ÐÐ°Ð¹Ð´Ð¸Ñ‚Ðµ Ð´Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð» Ð´Ð»Ñ Ð¼Ð°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ Ð¾Ð¶Ð¸Ð´Ð°Ð½Ð¸Ñ Ñ Ð½Ð°Ð´ÐµÐ¶Ð½Ð¾ÑÑ‚ÑŒÑŽ 0.95.
"""

# Ð˜ÑÑ…Ð¾Ð´Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ:
iq = np.array([131, 125, 115, 122, 131, 115, 107, 99, 125, 111])
alfa = 1 - 0.95
n = iq.size

# Ð Ð°ÑÑ‡ÐµÑ‚:
# ÐŸÐ¾ ÑƒÑÐ»Ð¾Ð²Ð¸ÑŽ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð³ÐµÐ½ÐµÑ€Ð°Ð»ÑŒÐ½Ð¾Ð¹ ÑÐ¾Ð²Ð¾ÐºÑƒÐ¿Ð½Ð¾ÑÑ‚Ð¸.
# Ð’ ÑÐ²ÑÐ·Ð¸ Ñ ÑÑ‚Ð¸Ð¼ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ñ„Ð¾Ñ€Ð¼ÑƒÐ»Ñƒ Ð´Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð³Ð¾ Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»Ð° Ñ‡ÐµÑ€ÐµÐ· t-ÐºÑ€Ð¸Ñ‚ÐµÑ€Ð¸Ð¹ Ð¡Ñ‚ÑŒÑŽÐ´ÐµÐ½Ñ‚Ð°:
# ð‘¥Ì… Â± t_(ð›¼/2) * ðœŽ/âˆšð‘›, ÐµÑÐ»Ð¸ ðœŽ Ð³ÐµÐ½ÐµÑ€Ð°Ð»ÑŒÐ½Ð¾Ð¹ ÑÐ¾Ð²Ð¾ÐºÑƒÐ¿Ð½Ð¾ÑÑ‚Ð¸ Ð½Ðµ Ð¸Ð·Ð²ÐµÑÑ‚Ð½Ð°
M = 0 + np.mean(iq)                       # ÑÑ€ÐµÐ´Ð½ÑÑ Ð¿Ð¾ Ð²Ñ‹Ð±Ð¾Ñ€ÐºÐµ iq
d = np.var(iq, ddof=1)                    # Ð´Ð¸ÑÐ¿ÐµÑ€ÑÐ¸Ñ Ð¿Ð¾ Ð²Ñ‹Ð±Ð¾Ñ€ÐºÐµ iq
t_alfa = stats.t.ppf(1-alfa/2, (n-1))     # ÐºÐ²Ð°Ð½Ñ‚Ð¸Ð»ÑŒ Ð´Ð»Ñ Ð´Ð²ÑƒÑ…ÑÑ‚Ð¾Ñ€Ð¾Ð½Ð½ÐµÐ³Ð¾ Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»Ð°

# Ð˜ÑÑ‚Ð¸Ð½Ð½Ð¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ð½Ñ‹ IQ Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ÑÑ Ð² Ð´Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð¼ Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»Ðµ
z_delta = t_alfa * np.sqrt(d/n)

confidence_l = round(M - z_delta, 2)
confidence_r = round(M + z_delta, 2)

# Ð²Ñ‹Ð²Ð¾Ð´ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð² Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸
print()
print('Ð—Ð°Ð´Ð°Ð½Ð¸Ðµ-2.')
print('--------------------------------')
print(f'Ð˜ÑÑ‚Ð¸Ð½Ð½Ð¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ð½Ñ‹ IQ = {iq}, ÑÐ¾ ÑÑ€ÐµÐ´Ð½Ð¸Ð¼ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÐµÐ¼ M = {round(M, 3)}\n'
      f'Ñ Ð´Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð¹ Ð²ÐµÑ€Ð¾ÑÑ‚Ð½Ð¾ÑÑ‚ÑŒÑŽ = {1-alfa} '
      f'Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ÑÑ Ð² Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»Ðµ [{confidence_l} ... {confidence_r}]')


"""
Ð—Ð°Ð´Ð°Ð½Ð¸Ðµ-3:
Ð˜Ð·Ð²ÐµÑÑ‚Ð½Ð¾, Ñ‡Ñ‚Ð¾ Ñ€Ð¾ÑÑ‚ Ñ„ÑƒÑ‚Ð±Ð¾Ð»Ð¸ÑÑ‚Ð¾Ð² Ð² ÑÐ±Ð¾Ñ€Ð½Ð¾Ð¹ Ñ€Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½ Ð½Ð¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ð¾ Ñ Ð´Ð¸ÑÐ¿ÐµÑ€ÑÐ¸ÐµÐ¹ Ð³ÐµÐ½ÐµÑ€Ð°Ð»ÑŒÐ½Ð¾Ð¹ ÑÐ¾Ð²Ð¾ÐºÑƒÐ¿Ð½Ð¾ÑÑ‚Ð¸, 
Ñ€Ð°Ð²Ð½Ð¾Ð¹ 25 ÐºÐ².ÑÐ¼. ÐžÐ±ÑŠÐµÐ¼ Ð²Ñ‹Ð±Ð¾Ñ€ÐºÐ¸ Ñ€Ð°Ð²ÐµÐ½ 27, ÑÑ€ÐµÐ´Ð½ÐµÐµ Ð²Ñ‹Ð±Ð¾Ñ€Ð¾Ñ‡Ð½Ð¾Ðµ ÑÐ¾ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ 174.2. 
ÐÐ°Ð¹Ð´Ð¸Ñ‚Ðµ Ð´Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð» Ð´Ð»Ñ Ð¼Ð°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ Ð¾Ð¶Ð¸Ð´Ð°Ð½Ð¸Ñ Ñ Ð½Ð°Ð´ÐµÐ¶Ð½Ð¾ÑÑ‚ÑŒÑŽ 0.95.
"""

# ÐŸÐ¾ÑÑÐ½ÐµÐ½Ð¸Ñ:
# Ð”Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð» Ð´Ð»Ñ ÑÑ€ÐµÐ´Ð½ÐµÐ³Ð¾ Ð°Ñ€Ð¸Ñ„Ð¼ÐµÑ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾
# X Â± z_(Î±/2) * Ïƒ/âˆšn Ð¿Ñ€Ð¸ Ð¸Ð·Ð²ÐµÑÑ‚Ð½Ð¾Ð¹ Ïƒ Ð³ÐµÐ½ÐµÑ€Ð°Ð»ÑŒÐ½Ð¾Ð¹ ÑÐ¾Ð²Ð¾ÐºÑƒÐ¿Ð½Ð¾ÑÑ‚Ð¸

# Ð˜ÑÑ…Ð¾Ð´Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ:
M_sample = 174.2
alfa = 1 - 0.95
S_sample = 25
N_sample = 27

# Ð Ð°ÑÑ‡ÐµÑ‚:
z_alfa = stats.t.ppf(1-alfa/2, (N_sample-1))
z_delta = z_alfa * S_sample / np.sqrt(N_sample)

confidence_l = round(M_sample - z_delta, 2)
confidence_r = round(M_sample + z_delta, 2)

# Ð’Ñ‹Ð²Ð¾Ð´ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð² Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸
print()
print('Ð—Ð°Ð´Ð°Ð½Ð¸Ðµ-3.')
print('--------------------------------')
print(f'Ð”Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð» Ð¼Ð°Ñ‚. Ð¾Ð¶Ð¸Ð´Ð°Ð½Ð¸Ñ = {M_sample}\n'
      f'Ñ Ð½Ð°Ð´ÐµÐ¶Ð½Ð¾ÑÑ‚ÑŒÑŽ = {1-alfa} '
      f'ÑÐ¾ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ [{confidence_l} ... {confidence_r}]')


exit()


# Ð’Ñ‹Ð²Ð¾Ð´ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð² Ñ€Ð°ÑÑ‡ÐµÑ‚Ð° ÐºÐ¾Ñ€Ñ€ÐµÐ»ÑÑ†Ð¸Ð¸ ÐŸÐ¸Ñ€ÑÐ¾Ð½Ð°
def show_result(X, Y, C, lim=0.5, number=None):
    tit = f'Ð­ÐºÑÐ¿ÐµÑ€Ð¸Ð¼ÐµÐ½Ñ‚ {number}:'
    print(tit)
    print(f'Ð’Ñ‹Ð±Ð¾Ñ€ÐºÐ° X = {X}')
    print(f'Ð’Ñ‹Ð±Ð¾Ñ€ÐºÐ° Y = {Y}')
    print(f'ÐšÐ¾ÑÑ„Ñ„Ð¸Ñ†Ð¸ÐµÐ½Ñ‚ ÐºÐ¾Ñ€Ñ€ÐµÐ»ÑÑ†Ð¸Ð¸ ÐŸÐ¸Ñ€ÑÐ¾Ð½Ð°:\n{C}')
    print()

    plt.scatter(X, Y)
    plt.title(tit)
    plt.xlabel('Ð’Ñ‹Ð±Ð¾Ñ€ÐºÐ° X')
    plt.ylabel('Ð’Ñ‹Ð±Ð¾Ñ€ÐºÐ° Y')
    plt.show()


# Ð—Ð°Ð´Ð°Ð½Ð¸Ðµ-1 Ð¡ÐµÐ¼Ð¸Ð½Ð°Ñ€Ð°
x = np.array([10,8, 13, 9,11,14, 6,4,12, 7,5])
y1 = np.array([8.04, 6.95, 7.58, 8.81, 8.33, 9.96, 7.24, 4.26, 10.84, 4.82, 5.68 ])

# x= np.array([ 10,8, 13, 9,11,14, 6,4,12, 7,5 ])
y2 = np.array([ 9.14, 8.14, 8.74,8.77, 9.26, 8.10, 6.13, 3.10, 9.13, 7.26, 4.74])

# x= np.array([ 10,8, 13, 9,11,14, 6,4,12, 7,5 ])
y3 = np.array([7.46,6.77, 12.74, 7.11, 7.81, 8.84, 6.08, 5.39, 8.15, 6.42, 5.73])

x4 = np.array([8, 8, 8, 8, 8, 8, 8, 19, 8, 8, 8])
y4 = np.array([6.58, 5.76, 7.71, 8.84, 8.47, 7.04, 5.25,12.5, 5.56, 7.91, 6.89])

x0= np.array([ 10, 8, 13, 9, 11, 14, 6, 4, 12, 7,5, 15, 16, 18 ])
y0 = np.array([ 9.14, 8.14, 8.74,8.77, 9.26, 8.10, 6.13, 3.10, 9.13, 7.26, 4.74, 6.5, 5, 2.9])

# Ð Ð°ÑÑ‡ÐµÑ‚ ÐºÐ¾ÑÑ„Ñ„Ð¸Ñ†Ð¸ÐµÐ½Ñ‚Ð¾Ð² ÐºÐ¾Ñ€Ñ€ÐµÐ»ÑÑ†Ð¸Ð¸:
c_kf1 = np.corrcoef(x, y1)
c_kf2 = np.corrcoef(x, y2)
c_kf3 = np.corrcoef(x, y3)
c_kf4 = np.corrcoef(x4, y4)
c_kf0 = np.corrcoef(x0, y0)

print('Ð ÐµÑˆÐµÐ½Ð¸Ðµ Ð—Ð°Ð´Ð°Ð½Ð¸Ñ-1')
print('-------------------')
show_result(x, y1, c_kf1, 1)
show_result(x, y2, c_kf2, 2)
show_result(x, y3, c_kf3, 3)
show_result(x4, y4, c_kf4, 4)
show_result(x0, y0, c_kf0, 5)


"""
Ð—Ð°Ð´Ð°Ñ‡Ð° 2
ÐŸÑ€Ð¾Ð²ÐµÑÑ‚Ð¸ Ð´Ð²ÑƒÑÑ‚Ð¾Ñ€Ð¾Ð½Ð½Ð¸Ð¹ Ñ‚ÐµÑÑ‚ Ð¸ Ð¾Ñ‚Ð²ÐµÑ‚Ð¸Ñ‚ÑŒ Ð½Ð° Ð²Ð¾Ð¿Ñ€Ð¾Ñ, ÐµÑÑ‚ÑŒ Ð»Ð¸ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð·Ð½Ð°Ñ‡Ð¸Ð¼Ñ‹Ðµ
Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð¸Ñ Ð¼ÐµÐ¶Ð´Ñƒ ÑÑ€ÐµÐ´Ð½Ð¸Ð¼Ð¸ 2Ñ… Ð½Ð¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ð¾ Ñ€Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ñ‹Ñ… Ð³ÐµÐ½ÐµÑ€Ð°Ð»ÑŒÐ½Ñ‹Ñ… ÑÐ¾Ð²Ð¾ÐºÑƒÐ¿Ð½Ð¾ÑÑ‚ÐµÐ¹,
Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ñ… ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¼Ð¸ Ð½ÐµÐ·Ð°Ð²Ð¸ÑÐ¸Ð¼Ñ‹Ð¼Ð¸ Ð²Ñ‹Ð±Ð¾Ñ€ÐºÐ°Ð¼Ð¸:
a = np.array([12, 10, 11, 19, 13, 11, 17, 15, 19, 14, 21, 18, 21, 11, 17, 14, 15, 17, 20, 19])
b = np.array([11, 13, 18, 15, 17, 18, 10, 21, 26, 15, 11, 12, 15, 17, 10, 18, 18, 12,21, 20])
Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð·Ð½Ð°Ñ‡Ð¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¿Ñ€Ð¸Ð½ÑÑ‚ÑŒ Ð·Ð° 5%
1 . Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ Ð² Python:
2. Ð˜Ð¼ÐµÑ p-value Ð¸Ð· Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ñ€Ð°ÑÑÑ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ Ð½Ð°Ð±Ð»ÑŽÐ´Ð°ÐµÐ¼Ð¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ ÐºÑ€Ð¸Ñ‚ÐµÑ€Ð¸Ñ.
3. ÐžÑ†ÐµÐ½Ð¸Ñ‚ÑŒ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½ÑƒÑŽ ÐºÐ¾Ñ€Ñ€ÐµÐ»ÑÑ†Ð¸ÑŽ Ð¼ÐµÐ¶Ð´Ñƒ ÑƒÐºÐ°Ð·Ð°Ð½Ð½Ñ‹Ð¼Ð¸ Ð²Ñ‹Ð±Ð¾Ñ€ÐºÐ°Ð¼Ð¸, Ð¾Ñ‚Ñ€Ð°Ð·Ð¸Ñ‚ÑŒ Ð³Ñ€Ð°Ñ„Ð¸Ñ‡ÐµÑÐºÐ¸
"""

alfa = 5/100      # 5%
a = np.array([12, 10, 11, 19, 13, 11, 17, 15, 19, 14, 21, 18, 21, 11, 17, 14, 15, 17, 20, 19])
b = np.array([11, 13, 18, 15, 17, 18, 10, 21, 26, 15, 11, 12, 15, 17, 10, 18, 18, 12,21, 20])

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð²Ñ‹Ð±Ð¾Ñ€Ð¾Ðº Ð½Ð° Ð½Ð¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ
print(stats.shapiro(a))
print(stats.shapiro(b))

stat, p_value = stats.ttest_ind(a, b)

txt_G0 = 'ÐÐµÑ‚ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð·Ð½Ð°Ñ‡Ð¸Ð¼Ñ‹Ñ… Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð¸Ð¹'
txt_G1 = 'Ð•ÑÑ‚ÑŒ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð·Ð½Ð°Ñ‡Ð¸Ð¼Ñ‹Ðµ Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð¸Ñ'

print('Ð ÐµÑˆÐµÐ½Ð¸Ðµ Ð—Ð°Ð´Ð°Ð½Ð¸Ñ-2')
print('-------------------')
print(f'ÐœÐµÐ¶Ð´Ñƒ Ð³ÐµÐ½ÐµÑ€Ð°Ð»ÑŒÐ½Ñ‹Ð¼Ð¸ ÑÐ¾Ð²Ð¾ÐºÑƒÐ¿Ð½Ð¾ÑÑ‚ÑÐ¼Ð¸: \n {a} Ð¸\n {b}')
print(f'{txt_G0 if p_value > alfa else txt_G1} (alfa, p_value = {alfa, p_value})')

show_result(a, b, np.corrcoef(a, b), number='Ð—Ð°Ð´Ð°Ð½Ð¸Ðµ-2')
